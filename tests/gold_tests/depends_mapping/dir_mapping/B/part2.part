
Import('*')
import sys
PartName("part2")

build.DependsOn([
    Component("part1"),
    Component("part3")
    ])

@build
def source(env):

    outdir = env.CCommand(
        "destdir",
        "#mkdir.py",
        [
            Delete("$TARGET"),
            sys.executable+" ${SOURCE} --outdir=${TARGET} --name=${PART_NAME}"
        ],
        source_scanner=NullScanner,
        target_factory=env.Dir,
        target_scanner=env.ScanDirectory("destdir",)
    )
    env.Clean(outdir,outdir)
